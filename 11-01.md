# Домашнее задание к занятию «Базы данных, их типы»
---

### Задание 1. СУБД

### Кейс
Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать 
правильную архитектуру для работы с данными. Ниже представлены задачи, которые необходимо решить для
каждой предметной области. 

Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему? 
 
1.1. Бюджетирование проектов с дальнейшим формированием финансовых аналитических отчётов и прогнозирования рисков.
СУБД должна гарантировать целостность и чёткую структуру данных.

1.1.* Хеширование стало занимать длительно время, какое API можно использовать для ускорения работы? 

1.2. Под каждый девелоперский проект создаётся отдельный лендинг, и все данные по лидам стекаются в CRM к 
маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для лендингов и для CRM? 
СУБД должны быть гибкими и быстрыми.

1.2.* Можно ли эту задачу закрыть одной СУБД? И если да, то какой именно СУБД и какой реализацией?

1.3. Отдел контроля качества решил создать базу по корпоративным нормам и правилам, обучающему материалу 
и так далее, сформированную согласно структуре компании. СУБД должна иметь простую и понятную структуру.

1.3.* Можно ли под эту задачу использовать уже существующую СУБД из задач выше и если да, то как лучше это 
реализовать?

1.4. Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов 
по объектам и распределению курьеров по маршрутам с доставкой документов. СУБД должна уметь быстро работать
со связями.

1.4.* Можно ли к этой СУБД подключить отдел закупок или для них лучше сформировать свою СУБД в связке с СУБД 
логистов?

1.5.* Можно ли все перечисленные выше задачи решить, используя одну СУБД? Если да, то какую именно?

*Приведите ответ в свободной форме.*

### Решение

1.1. Здесь подойдёт реляционная СУБД, такая как MySQL, PostgreSQL или Oracle Database. Реляционные СУБД хорошо подходят для финансовых данных, так как они обеспечивают целостность и чёткую структуру данных. Они хранят данные в виде таблиц и позволяют выполнять сложные аналитические запросы. По поводу хеширования, для ускорения его работы можно использовать специализированные библиотеки или API, оптимизированные под конкретные задачи.

1.2. Для лендингов и CRM может подойти документная СУБД, например, MongoDB, так как она позволяет гибко работать с разнообразными данными и обеспечивает высокую скорость обработки запросов. Этот тип СУБД хорошо подходит для работы с неструктурированными данными, такими как информация о пользователях и их взаимодействиях. Так же, можно расмотреть, например, SAP, модульная платформа «1С», «Битрикс24».

1.3. Здесь также может подойти реляционная СУБД, например, Microsoft SQL Server или PostgreSQL, так как они обеспечивают чёткую структуру и удобство работы с иерархически организованными данными, типичными для корпоративных норм и правил.

1.4. Графовая СУБД, такаие как Amazon Neptune, Neo4j и InfiniteGraph, хорошо подходят для работы с маршрутами и распределением курьеров, так как они специализируется на обработке связей между объектами. Для отдела закупок также можно использовать эту же СУБД, если важна тесная интеграция с логистическими процессами.

1.5. Теоретически это возможно, но в практике часто предпочтительнее выбирать специализированные СУБД для каждой задачи, чтобы оптимально использовать их преимущества. Например, реляционные СУБД для финансовых данных, документные для CRM и графовые для логистики.

---

### Задание 2. Транзакции

2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы 
транзакция завершилась успешно. Ориентируйтесь на шесть действий.

2.2.* Какие действия должны произойти, если пополнение счёта телефона происходило бы через автоплатёж?

*Приведите ответ в свободной форме.*

### Решение

2.1. Этапы транзакции при пополнении баланса телефона

1) *Инициация транзакции:* Пользователь выбирает опцию пополнения баланса и вводит необходимые данные (например, номер телефона и сумму пополнения).
2) *Проверка данных:* Система проверяет введенные данные на корректность и наличие связанного счета в базе данных.
3) *Блокировка средств:* Если оплата производится с банковской карты или счета, происходит временная блокировка средств на этом счете на сумму пополнения.
4) *Обновление баланса:* Система обновляет баланс телефона в базе данных, увеличивая его на сумму пополнения.
5) *Подтверждение транзакции:* Система отправляет запрос в банковскую систему или платежный шлюз на списание заблокированных средств.
6) *Завершение транзакции:* После успешного списания средств транзакция завершается, пользователь получает подтверждение об успешном пополнении баланса.

2.2. Автоплатеж по пополнению баланса телефона

1) *Активация автоплатежа:* Пользователь настраивает автоплатеж, указывая данные для платежа (номер телефона, сумму, периодичность).
2) *Автоматическое инициирование транзакции:* В установленное время система автоматически инициирует транзакцию пополнения.
3) *Проверка данных и блокировка средств:* Аналогично ручному пополнению, система проверяет доступность средств и блокирует их на счете пользователя.
4) *Обновление баланса и подтверждение транзакции:* Система обновляет баланс телефона и отправляет запрос на списание средств.
5) *Подтверждение и уведомление пользователя:* После успешного пополнения баланса, система отправляет пользователю уведомление о произведенном платеже.
6) *Логирование и отчетность:* Система сохраняет информацию об операции в журнале транзакций для последующей отчетности и анализа.
---

### Задание 3. SQL vs NoSQL

3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL. 

3.2.* Какие, на ваш взгляд, преимущества у NewSQL систем перед SQL и NoSQL.

*Приведите ответ в свободной форме.*

### Решение

3.1. Преимущества SQL-систем по отношению к NoSQL

1) *Стандартизация и согласованность данных:* SQL-системы следуют строгим стандартам ACID (Atomicity, Consistency, Isolation, Durability), обеспечивая надежность и предсказуемость работы с данными.
2) *Комплексные запросы и аналитика:* SQL предоставляет мощные инструменты для выполнения сложных запросов и аналитических операций. 
3) *Структурированный и организованный формат данных:* SQL-базы данных используют строго определенную схему, что позволяет легко поддерживать порядок и организацию данных.
4) *Совместимость и интеграция:* Большинство SQL-систем легко интегрируются с другими технологиями и приложениями.
5) *Зрелость и сообщество:* SQL-технологии существуют уже много десятилетий, что обеспечивает наличие большого сообщества разработчиков, обширной документации и множества готовых решений и лучших практик.

---

### Задание 4. Кластеры

Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу 
выделено 1000 машин. 

На основе какого критерия будете выбирать тип СУБД и какая модель *распределённых вычислений* 
здесь справится лучше всего и почему?

*Приведите ответ в свободной форме.*

### Решение

#### Выбор типа СУБД

Для работы с огромным объёмом данных на кластере из 1000 машин, ключевым критерием выбора типа СУБД и модели распределённых вычислений будет масштабируемость в сочетании с производительностью и типом данных. 

#### NoSQL СУБД:

- Преимущества: NoSQL базы данных, такие как Cassandra или MongoDB, обеспечивают отличную горизонтальную масштабируемость и гибкость, что позволяет легко расширяться на новые узлы в кластере. Они хорошо подходят для работы с неструктурированными или полуструктурированными данными и могут обеспечить быструю обработку больших объемов данных.
    Сценарии использования: Рекомендуется, если данные не имеют строгой структуры или если требуется высокая скорость записи/чтения и гибкость схемы.

#### SQL СУБД:

- Преимущества: SQL СУБД, такие как PostgreSQL или MySQL, предоставляют строгую согласованность данных, поддержку сложных транзакций и мощные возможности для выполнения запросов с помощью SQL. Они подходят для приложений, где критична точная и надежная обработка структурированных данных.

*Сценарии использования:* Подходит для приложений, где требуется строгая согласованность и целостность данных, а также сложные запросы и операции с данными.

#### Модель распределённых вычислений

- MapReduce (или аналогичные системы, например, Apache Hadoop): Подходит для обоих типов СУБД, особенно когда требуется обработка больших объемов данных с распределенными вычислениями. Особенно эффективна с NoSQL базами данных, которые часто используются для хранения больших объемов неструктурированных данных. Оптимальна для задач, требующих параллельной обработки и агрегации больших объемов данных.

- Apache Spark: Хорошо сочетается как с SQL, так и с NoSQL базами данных, предоставляя улучшенную производительность за счет in-memory вычислений. Особенно подходит для более сложных аналитических задач и операций с большими данными, включая машинное обучение.

#### Ключевые факторы для учёта:

- Тип данных: Структурированные против неструктурированных или полуструктурированных.
- Требования к согласованности: Необходимость ACID-транзакций и строгой согласованности данных в SQL против более гибкого подхода NoSQL.
- Производительность и скорость обработки: Важна для реального времени и больших объемов данных.
- Гибкость и удобство масштабирования: Важно для добавления и удаления узлов без простоя системы.

---

Задания,помеченные звёздочкой, — дополнительные, то есть не обязательные к выполнению, и никак не повлияют на получение вами зачёта по этому домашнему заданию. Вы можете их выполнить, если хотите глубже разобраться в материале.
